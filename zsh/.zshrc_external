zshrc_dir=`readlink $HOME/.zshrc | sed 's/\/[^\/]*$//'`

# autojump
if [[ -f ~/.autojump/etc/profile.d/autojump.zsh ]]; then
  . ~/.autojump/etc/profile.d/autojump.zsh

  export AUTOJUMP_KEEP_SYMLINKS=1

  fpath=(~/.autojump/functions $fpath)
fi

# zsh-syntax-highlighting
if [[ -f $zshrc_dir/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]]; then
  . $zshrc_dir/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

path=(
  # Homebrew's ruby
  /usr/local/opt/ruby/bin(N-/)

  $path
)

# rbenv
if [[ -d $HOME/.rbenv ]]; then
  eval "$(rbenv init -)"
fi

# Android SDK
if [[ -d ~/Library/Android/sdk ]]; then
  location=~/Library/Android/sdk
  export PATH=$location/platform-tools:$location/tools:$location/proguard/bin:$PATH
  export ANDROID_HOME=$location
fi

if [[ -d ~/local/android-sdks ]]; then
  location=~/local/android-sdks
  export PATH=$location/emulator:$location/platform-tools:$location/tools:$location/proguard/bin:$PATH
  export ANDROID_HOME=$location
fi

# Ansible
if (($+commands[ansible])); then
  export ANSIBLE_HOSTS=~/ansible_hosts
fi

# ESP32
if [[ -d ~/esp/xtensa-esp32-elf ]]; then
  export PATH=$PATH:$HOME/esp/xtensa-esp32-elf/bin
  export IDF_PATH=~/esp/esp-idf
fi
